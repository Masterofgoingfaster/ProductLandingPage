(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[89357],{784655:(t,e,n)=>{n.d(e,{iR:()=>a,hy:()=>i,VX:()=>o,jL:()=>r,_J:()=>s,c4:()=>c,i8:()=>d,sV:()=>p,DP:()=>l,X9:()=>u,B5:()=>h});const a=t=>!!t&&!!t.video_list,i=({story_pin_data_id:t})=>!!t,o=t=>{var e;return t.rich_summary&&t.rich_summary.products&&t.rich_summary.products.length>0||(null===(e=t.rich_metadata)||void 0===e?void 0:e.products)&&t.rich_metadata.products.length>0||!1},r=t=>!!t.promoter&&!t.is_downstream_promotion,s=t=>!!t.video_status&&5!==t.video_status,c=t=>!!t.creator_class,d=(t,e)=>{const{organicVideosAutoplaying:n,promotedVideosAutoplaying:a}=e,i={...n,...a};return!!i[t]&&!i[t].paused},p=t=>["email","messages","deep_linking"].includes(t),l=(t,e)=>{const{organicVideosAutoplaying:n,promotedVideosAutoplaying:a}=e,i={...n,...a};for(const o in i){const{paused:e}=i[o];if(o!==t&&!e)return!1}return!0},u=(t,e)=>{const{organicVideosAutoplaying:n,promotedVideosAutoplaying:a}=e,i={...n,...a};return i[t]&&i[t].currentTime},h=()=>{let t=800,e=400;return"undefined"!=typeof window&&(t=window.innerHeight,e=window.innerWidth),{windowHeight:t,windowWidth:e}}},515528:(t,e,n)=>{n.d(e,{ZF:()=>a,Wv:()=>i,zI:()=>o,UP:()=>r});const a=["AuthHomefeed","CloseupRelatedProducts","FollowingFeedGrid","RelatedPinGrid","RelatedProductsFeed","SearchItem"],i=["ArticleProductsStory","CloseupRelatedProducts","ProductPinsFeed","RelatedProductsFeed","ShoppingPackageItem","STLProductsFeed","RelatedProductsFeed","ShoppingSquareGridRelatedProducts","UserProfilePinGrid"],o=[...i,"ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingSquareGridRelatedProductsMetadata","ProductPinsFeed","ShoppingSquareGridCrop","ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid"],r=["BaseBoardPinGrid"]},840999:(t,e,n)=>{n.d(e,{Gh:()=>i,X2:()=>r});var a=n(762803);const{Provider:i,Consumer:o,useHook:r}=(0,a.ZP)("unauthContext")},805803:(t,e,n)=>{n.d(e,{le:()=>o,Yy:()=>i});var a=n(584489);const i=t=>a.Z.instance.dispatch(function(t){return{type:"SPAMMY_CLICKTHROUGH_WARNING_SHOW",payload:t}}(t)),o=()=>a.Z.instance.dispatch({type:"SPAMMY_CLICKTHROUGH_WARNING_DISMISS"})},799881:(t,e,n)=>{n.d(e,{Z:()=>o});var a=n(296882),i=n(641483);function o(t,e){if(e&&!(()=>{try{return window.localStorage.test=2,!1}catch(t){return!0}})()){const e=window.open(t,"_blank");return e&&(e.opener=null),e}{const e=(0,a.Z)(t);return setTimeout((()=>{(0,i.ZP)("setting_new_window_location")}),0),window.location.href=e,window}}},741725:(t,e,n)=>{n.d(e,{nS:()=>f,iw:()=>v,gV:()=>g,G3:()=>y,lI:()=>b,Gj:()=>_,Jd:()=>m,$3:()=>w});var a=n(85038),i=n(799881),o=n(439887),r=n(238402),s=n(714762),c=n(195693),d=n(831251);var p=n(141618),l=n(805803),u=n(784655),h=n(515528);const m=()=>{window&&window.focus(),document.activeElement&&document.activeElement.blur()},g=({isOffsiteUrl:t,event:e})=>!t&&(e.metaKey||e.ctrlKey),w=({location:t,pin:e,surface:n})=>!(0,u.jL)(e)&&(({location:t,pinId:e,surface:n})=>{const a=Boolean(n),i=h.ZF.includes(n),o=t.pathname.includes(e);return a&&!i||o})({location:t,pinId:e.id,surface:n}),f=t=>{const e=Math.round(1e3*Math.random())+"",n=Math.round(1e3*Math.random())+"";a.t8(`offsite_${e}`,n);const i=`${e}-${n}`,{queryParams:o,url:s}=t;let c={token:i,url:s};if(!o){const{pinId:e,csrId:n,clientTrackingParams:a,auxData:i}=t;c={...c,pin:null!=e?e:void 0,csr:n&&!e?n:void 0,client_tracking_params:a,aux_data:i?JSON.stringify(i):void 0}}o&&(c={...c,...o});return`/offsite/?${(0,r.Z)(c)}`},_=t=>{(0,i.Z)(f(t),!0)},v=async({isMounted:t,pin:e,location:n,spamCheckCallback:a,href:i})=>{const r=await(0,d.Z)({check_only:!0,client_tracking_params:(0,o.ZP)(e,n),pin_id:null==e?void 0:e.id,url:i}).callGet({showError:!1});if(!r.resource_response.error&&t){const t=r.resource_response.data||{},{message:e,redirect_status:n,url:i}=t;a({blocked:["blocked","suspicious","porn"].includes(n),message:e,redirectStatus:n,sanitized_url:i})}},y=({event:t,onHistoryChange:e,href:n,history:a,target:o,location:r})=>{const d=(0,s.Z)(n);d===p.Z.TRUSTED_DIFFERENT_ORIGIN||"blank"===o?(0,i.Z)(n,"blank"===o):a&&d===p.Z.SAME_ORIGIN&&(a.push((0,c.Z)({url:n}),r.state?{...r.state}:{}),e&&e({event:t}))},b=({href:t,pinId:e,pin:n,location:a,auxData:i,spamCheck:r,queryParams:s})=>{"undefined"!=typeof window&&window.Windows?function({url:t,pinId:e,pin:n,location:a,auxData:i}){const r={check_only:!0,client_tracking_params:n?(0,o.ZP)(n,a):void 0,pin_id:n?n.id:e,url:t,aux_data:JSON.stringify(i)};(0,d.Z)(r).callGet().then((r=>{if(r&&r.resource_response&&!r.resource_response.error){const{resource_response:t}=r,{redirect_status:e,url:n}=t.data;if(!["blocked","suspicious","porn"].includes(e)){if(window.Windows.Foundation&&window.Windows.System&&window.Windows.System.Launcher&&window.Windows.System.Launcher.launchUriAsync){const t=new window.Windows.Foundation.Uri(n);window.Windows.System.Launcher.launchUriAsync(t)}return}}if(n){const r=(0,o.ZP)(n,a);_({url:t,pinId:e,csrId:null,clientTrackingParams:r,auxData:i})}else _({url:t,pinId:e})}))}({url:t,pinId:e,pin:n,location:a,auxData:i}):n?(({spamCheck:t,auxData:e,location:n,pin:a,pinId:i,href:r})=>{null!=t&&t.blocked?(0,l.Yy)(t):_({url:r,pinId:i,csrId:null,clientTrackingParams:(0,o.ZP)(a,n),auxData:e})})({spamCheck:r,auxData:i,location:a,pin:n,pinId:e,href:t}):_({url:t,pinId:e,queryParams:s})}},831251:(t,e,n)=>{n.d(e,{Z:()=>i});var a=n(311866);function i(t){return a.ZP.create("ApiResource",{url:"/v3/offsite/",data:t})}},382745:(t,e,n)=>{n.d(e,{wy:()=>k,Qx:()=>it,bo:()=>C,AX:()=>u,Fy:()=>l,XE:()=>p,am:()=>r,pD:()=>h,OJ:()=>c,LO:()=>at,Gl:()=>V,WN:()=>Y,h3:()=>B,PY:()=>_,Ni:()=>f,pV:()=>R,L6:()=>I,b0:()=>w,jC:()=>G,O7:()=>J,LM:()=>A,OK:()=>L,mP:()=>v,C$:()=>y,J3:()=>E,dh:()=>ot,Xn:()=>b,l4:()=>P,b_:()=>H,J:()=>s,dZ:()=>d,re:()=>W,RU:()=>K,Ui:()=>m,KY:()=>g,fY:()=>tt,uM:()=>T,x7:()=>q,HV:()=>$,cD:()=>N,Pu:()=>j,En:()=>D,ej:()=>et,gf:()=>S,Dl:()=>M,mY:()=>z,kY:()=>nt,cY:()=>F,vF:()=>Z,$Y:()=>X,Zz:()=>x,$V:()=>O,j8:()=>U,YW:()=>Q});const a=new RegExp(/^\/(?!(?:pin|categories|report|search|password|terms|discover|help|email|topics|explore|pw|login|signup|about|business|source|ideas|today))[\w\d\-]+\/(?!(?:following|followers|_tools|_created|_saved|tried))[\w\d\-]+(?=\/|$)/),i=["/BingSiteAuth.xml","/about","/add-account","/ads","/age_verification","/all","/apple-app-site-association","/apple-app-site-association.p7m","/bot.html","/boutique","/brand_catalog","/browserbutton","/buy-it","/careers","/categories","/close-account","/content-claiming","/convert-business","/convert-personal","/create-business","/create-linked-business","/create-personal","/csrf_error","/ct.html","/deactivate-account","/developers","/discover","/edit","/email_verification_error","/engagement","/explore","/favicon.ico","/fb.html","/following","/google_gdn.html","/google_search.html","/googlef5dc42d6e03f6e61.html","/guidedsearch","/help","/holidays-celebrations","/homefeed","/idea-pin-builder","/idea-pin-invite","/ideas","/inbox","/invited","/jobs","/live-session","/login","/login_redirect","/logout","/manifest.json","/manifest.webapp","/me","/messages","/mobile","/notifications","/oauth","/oembed.json","/offline.html","/offsite","/opensearch.xml","/parent_contact_info","/pin-builder","/pin-editor","/pin_catalog","/pin_redirect","/pinterest-wellbeing","/pinterestlens","/pinterestlenstryon","/pinterestwellbeing","/policy","/product-catalogs","/recently-viewed","/report","/robots.txt","/safe-redirect","/search","/settings","/signup","/socialmanager","/story-pin-builder","/story-pin-invite","/story_feed","/story_pins","/sw-shell.html","/sw.html","/sw.js","/switch_account","/terms","/today","/topics","/transparent.html","/unauth-profile","/unlink","/upload-image","/upload-profile-image","/verified","/verify","/web-mentorship","/welcome","/windows-app-web-link"];var o=n(855168);const r=t=>a.test(t.pathname),s=(t,e)=>{const{pathname:n}=t;return r(t)&&n.match(e||"?")},c=t=>{const{pathname:e}=t;return!!(0,o.LX)(e,{path:"/:username/:boardId/:boardSectionId",exact:!0})&&!e.match(/^\/.+\/.+\/(_tools)/i)},d=(t,e)=>{const{pathname:n}=t;return c(t)&&n.match(e||"?")},p=t=>!!(0,o.LX)(t.pathname,{path:"/board/:id/edit",exact:!0}),l=t=>!!(0,o.LX)(t.pathname,{path:"/board/:id/edit/collaborators",exact:!0}),u=t=>!!(0,o.LX)(t.pathname,{path:"/board/:id/edit/add_collaborators",exact:!0}),h=t=>!!(0,o.LX)(t.pathname,{path:"/boardsection/:id/edit",exact:!0}),m=t=>!!(0,o.LX)(t.pathname,{path:"/pin/:id/comments",exact:!0}),g=t=>!!(0,o.LX)(t.pathname,{path:"/pin/:id/edit",exact:!0}),w=t=>!!(0,o.LX)(t.pathname,{path:"/conversation/:id",exact:!0}),f=t=>t.pathname.startsWith("/business/"),_=t=>t.pathname.startsWith("/business/invite/"),v=t=>!!(0,o.LX)(t.pathname,{path:"/pin/:id/visual-search/",exact:!0}),y=t=>"/"===t.pathname,b=t=>t.pathname.startsWith("/login"),x=t=>!!(0,o.LX)(t.pathname,{path:"/today",exact:!0}),W=t=>t.pathname.startsWith("/password/reset")||!!(0,o.LX)(t.pathname,{path:"/pw/:username",exact:!0}),S=(t,e)=>e.pathname.startsWith("/signup")||!t&&y(e),L=t=>t.pathname.startsWith("/email/subscription"),P=t=>t.pathname.startsWith("/notifications/"),I=t=>!!(0,o.LX)(t.pathname,{path:"/pin/:id",exact:!0}),k=t=>I(t)&&void 0===t.state,R=t=>t.pathname.startsWith("/pin_redirect"),D=t=>t.pathname.startsWith("/search"),E=t=>t.pathname.startsWith("/ideas"),O=t=>t.pathname.startsWith("/topics"),X=t=>t.pathname.startsWith("/today/article/")||t.pathname.startsWith("/today/best/")||t.pathname.startsWith("/today/trending/"),Z=t=>t.pathname.startsWith("/today/popular/"),C=t=>x(t)||X(t)||Z(t),A=t=>/^\/discover\/article\/\S+\/?/i.test(t.pathname),G=t=>t.pathname.startsWith("/pin/create/"),N=t=>!!(0,o.LX)(t.pathname,{path:"/:username/",exact:!0})&&!i.includes(t.pathname.replace(/\/$/,"")),U=t=>t.pathname.startsWith("/unauth-profile"),T=t=>t.pathname.startsWith("/pin/"),$=t=>t.pathname.startsWith("/places/recommender"),M=(t,e,n)=>{const a=t.pathname,{search:i}=t,r=new RegExp("invite_code"),s=!!(0,o.LX)(a,{path:"/pin/:id",exact:!1})&&(a.indexOf("/sent/")>=0||a.indexOf("/feedback/")>=0),c=e&&!!(0,o.LX)(a,{path:"/:username/:boardId",exact:!0})&&!a.match(/^\/(pin|categories|report|search|password|terms|discover|help|email|topics|explore|pw|login|signup)/)&&!a.match(/^\/.+\/(following|followers)/i)&&r.test(i),d=n&&!!(0,o.LX)(a,{path:"/:username/",exact:!0})&&r.test(i);return!!s||!!c||!!d},q=t=>t.pathname.indexOf("/repin/x")>=0,F=t=>t.pathname.startsWith("/_/storyboard"),H=t=>t.pathname.startsWith("/oauth"),j=t=>t.pathname.indexOf("/scheduled-pin/")>=0,V=t=>t.pathname.startsWith("/business/convert"),Y=t=>t.pathname.startsWith("/business/create"),B=t=>t.pathname.startsWith("/business/hub"),J=t=>t.pathname.startsWith("/pin-editor"),K=t=>t.pathname.startsWith("/pin-builder"),z=t=>t.pathname.startsWith("/story-pin-builder")||t.pathname.startsWith("/idea-pin-builder"),Q=t=>t.pathname.startsWith("/advertiser/quick-promote"),tt=t=>!!(0,o.LX)(t.pathname,{path:"/pin/:id",exact:!1})&&(t.pathname.indexOf("/sent/")>=0||t.pathname.indexOf("/feedback/")>=0),et=t=>t.pathname.startsWith("/settings"),nt=t=>t.pathname.startsWith("/story-pin-invite")||t.pathname.startsWith("/idea-pin-invite"),at=t=>void 0!==t.pathname&&t.pathname.startsWith("/business/business-access/")&&t.pathname.indexOf("/dashboard/")>=0,it=t=>{var e;return(null===(e=t.match(/\amp(.*)/))||void 0===e?void 0:e[1])||""},ot=()=>{var t,e;return/instagram/i.test(null===(t=window)||void 0===t||null===(e=t.navigator)||void 0===e?void 0:e.userAgent)}},652382:(t,e,n)=>{n.d(e,{qn:()=>a,L_:()=>i,Nh:()=>o});const a=(t,e)=>{if("undefined"==typeof window)return e;try{return window.sessionStorage.getItem(t)}catch(n){return window.console.error("Cannot access sessionStorage."),e}},i=t=>{if("undefined"!=typeof window)try{window.sessionStorage.removeItem(t)}catch(e){window.console.error("Cannot access sessionStorage.")}},o=(t,e)=>{if("undefined"!=typeof window)try{window.sessionStorage.setItem(t,e)}catch(n){window.console.error("Cannot access sessionStorage.")}}},641483:(t,e,n)=>{n.d(e,{ZP:()=>L,yl:()=>m,E8:()=>S,an:()=>b,qJ:()=>w,hD:()=>g,De:()=>x,NC:()=>y,LW:()=>W,My:()=>v,tj:()=>f,hL:()=>_});var a=n(85038),i=n(311866),o=n(221469);const r="unauthHistories",s="trackHistoryClickInternalUrl";var c=n(652382),d=n(382745);const p=["board","pin","topic","clickthrough"];let l=5e3,u=[];let h;function m(t){u.length&&(i.ZP.create("UserRegisterTrackActionResource",{actions:u}).callUpdate({showError:!1,async:!t}),u=[],h=null)}function g(t){l=t}const w=t=>{!function(t){const e=(0,c.qn)(s);if((0,c.L_)(s),e)return;let n=(0,c.qn)(r);if(n=n?n.split(","):[],n.length){const e=`${t}.${n.reduce(((t,e)=>t+"-"+e))}`;u.push({name:e,aux_data:{}})}(0,c.L_)(r)}(t),u.length&&m(!0)};function f(t,e){let n="undefined"!=typeof window&&window.encodeURIComponent&&encodeURIComponent(t)||t;e||(e={}),-1!==n.indexOf("%")&&(e.invalid_action&&(e.invalid_action_original=e.invalid_action),e.invalid_action=n,n="track_register_action.web.invalid_action.with_percent"),u.push({name:n,aux_data:e}),h||(h=setTimeout((()=>m()),l)),function(t,e){if("undefined"!=typeof window)try{const n=new URL(window.location.href).searchParams.get("consoleTra");if(window.PINTEREST_DEV_LOG||n){const n=window.PINTEREST_DEV_REGEX||"";n&&!(t||"").match(n)||("object"==typeof e&&Object.keys(e).length?console.log(t+": %O",e):console.log(t))}}catch(n){}}(t,e)}function _(t,e){f(t,{tags:{...e}})}function v(t){f(t,{tags:{}})}function y(t,e=!1){let n=(0,c.qn)(r);n=n?n.split(","):[],n.push(t),(0,c.Nh)(r,n.join()),v(`lex.${t}`),e&&(0,c.Nh)(s,!0)}const b=()=>{const t=(0,o.mB)(window.location.search);if("31"===t.utm_source)return"email";if(t.utm_pai)return"paid";const e=a.U2("_pinterest_referrer")||document.referrer;return e?e.includes("/t.co/")?"twitter":e.includes("cdn.ampproject.org")?"amp":e.includes("google.")?"google":e.includes("bing.")?"bing":e.includes("facebook.")?"facebook":"other":"direct"},x=t=>{t.action&&t.event?(t.type=t.type||"other",t.trigger=t.trigger||"other",t.referrer=b(),_("LEX.conversion.1",t)):_("LEX.conversion.1.missing_tags")},W=t=>{const e=t.page_location?(n=t.page_location,(0,d.L6)(n)?"pin":(0,d.am)(n)?"board":(0,d.Xn)(n)?"login":(0,d.C$)(n)?"home":(0,d.cD)(n)?"profile":(0,d.J3)(n)?"ideas":(0,d.$Y)(n)?"article":"other"):t.page||"other";var n;const a=t.item||"none",i=t.within||"none";_(`LEX.interaction.${e}.${t.action}`,{item:a,within:i}),"visit"!==t.action&&_(`LEX.interaction.all.${t.action}`,{item:a,within:i})},S=t=>p.includes(t)?p[p.indexOf(t)]:"other",L=v},195693:(t,e,n)=>{n.d(e,{Z:()=>o});var a=n(296882);const i=(t,e)=>0===t.lastIndexOf(e,0),o=({url:t})=>{const e=(0,a.Z)("/");return i(t,e)?t.substr(e.length-1):t}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/89357-a623eb3af8f4a68f.mjs.map